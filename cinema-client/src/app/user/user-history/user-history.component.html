<div class="myContainer">
  <app-user-menu [activeLink]="4"></app-user-menu>

      <div class="bookingHistory">

        <h3>Your booking history</h3>

        <div class="bookings">
        <div *ngFor="let bookingDTOEl of expiredBookings; index as i">
          <div class="importantInfo" style="height: 70px">
            <h4 style="display: inline-block;margin-left: 10px; margin-bottom: 0; color: #1BA098">{{bookingDTOEl.movieTitle}}</h4><p style="display: inline-block">,</p>
            <p style="display: inline-block; margin-left: 7px">{{bookingDTOEl.movieTechnology.toString().split("_")[1]}},</p>
            <p style="display: inline-block; margin-left: 7px">
              {{datePipe.transform(bookingDTOEl.showtimeDate,"dd.MM.yyyy")}}
              {{datePipe.transform(bookingDTOEl.showtimeDate + ' ' + bookingDTOEl.showtimeTime, 'HH:mm')}}
            </p>
            <button (click)="showAdditionalInfo(i)" id="{{i + 6}}">More</button>
          </div>

          <div *ngIf="showMoreBools[i]" class="showMoreInfo">
<!--          <div class="showMoreInfo">-->
            <div>
              <p style="display: inline-block; color: #1BA098">Screen:</p>
              <p style="margin-left: 7px;display: inline-block">{{bookingDTOEl.screenID}}</p>
            </div>

            <div>
              <p style="display: inline-block; margin-bottom: 0; color: #1BA098">Tickets: </p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrChildTickets !== 0">{{bookingDTOEl.nrChildTickets}} x Child</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrStudentTickets !== 0">, {{bookingDTOEl.nrStudentTickets}} x Student</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrAdultTickets !== 0">, {{bookingDTOEl.nrAdultTickets}} x Adult</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrRetiredTickets !== 0">, {{bookingDTOEl.nrRetiredTickets}} x Retired</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrRetiredTickets !== 0">, {{bookingDTOEl.nrRetiredTickets}} x Retired</p>
            </div>

            <div>
              <p style="margin-bottom: 0; color: #1BA098">Seats: </p>
              <div *ngFor="let row of getSeatArray(bookingDTOEl.seats); index as i">
                <p style="display: inline-block">row: {{getSeatArray(bookingDTOEl.seats)[i].split(':')[0]}}</p>
                <p style="display: inline-block; margin-left: 10px">seat: {{getSeatArray(bookingDTOEl.seats)[i].split(':')[1]}}</p>
              </div>
            </div>

            <div>
              <p style="display: inline-block;color: #1BA098">Total price:</p>
              <p style="display: inline-block; margin-left: 7px;">{{bookingDTOEl.totalPrice}} (RON)</p>
            </div>
          </div>
        </div>
      </div>
      </div>

      <div class="orderHistory">

        <h3>Your order history</h3>

        <div class="orders">
        <div *ngFor="let bookingDTOEl of expiredBookings; index as i">
          <div class="importantInfo" style="height: 70px">
            <h4 style="display: inline-block;margin-left: 10px; margin-bottom: 0; color: #1BA098">{{bookingDTOEl.movieTitle}}</h4><p style="display: inline-block">,</p>
            <p style="display: inline-block; margin-left: 7px">{{bookingDTOEl.movieTechnology.toString().split("_")[1]}},</p>
            <p style="display: inline-block; margin-left: 7px">
              {{datePipe.transform(bookingDTOEl.showtimeDate,"dd.MM.yyyy")}}
              {{datePipe.transform(bookingDTOEl.showtimeDate + ' ' + bookingDTOEl.showtimeTime, 'HH:mm')}}
            </p>
            <button (click)="showAdditionalInfo(i)" id="{{i}}">More</button>
          </div>

          <div *ngIf="showMoreBools[i]" class="showMoreInfo">
            <!--          <div class="showMoreInfo">-->
            <div>
              <p style="display: inline-block; color: #1BA098">Screen:</p>
              <p style="margin-left: 7px;display: inline-block">{{bookingDTOEl.screenID}}</p>
            </div>

            <div>
              <p style="display: inline-block; margin-bottom: 0; color: #1BA098">Tickets: </p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrChildTickets !== 0">{{bookingDTOEl.nrChildTickets}} x Child</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrStudentTickets !== 0">, {{bookingDTOEl.nrStudentTickets}} x Student</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrAdultTickets !== 0">, {{bookingDTOEl.nrAdultTickets}} x Adult</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrRetiredTickets !== 0">, {{bookingDTOEl.nrRetiredTickets}} x Retired</p>
              <p style="display: inline-block; margin-left: 5px;margin-bottom: 0" *ngIf="bookingDTOEl.nrRetiredTickets !== 0">, {{bookingDTOEl.nrRetiredTickets}} x Retired</p>
            </div>

            <div>
              <p style="margin-bottom: 0; color: #1BA098">Seats: </p>
              <div *ngFor="let row of getSeatArray(bookingDTOEl.seats); index as i">
                <p style="display: inline-block">row: {{getSeatArray(bookingDTOEl.seats)[i].split(':')[0]}}</p>
                <p style="display: inline-block; margin-left: 10px">seat: {{getSeatArray(bookingDTOEl.seats)[i].split(':')[1]}}</p>
              </div>
            </div>

            <div>
              <p style="display: inline-block;color: #1BA098">Total price:</p>
              <p style="display: inline-block; margin-left: 7px;">{{bookingDTOEl.totalPrice}} (RON)</p>
            </div>
          </div>
        </div>
        </div>
      </div>
</div>
